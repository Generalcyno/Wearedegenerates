<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>We Are Degenerates</title>
    <link rel="stylesheet" href="css/style.css">
    <meta name="description" content="Join We Are Degenerates, a thriving Discord BDSM community with over 29,000 members. Explore NSFW stickers, emotes, and connect with a wholesome yet kinky community.">
</head>
<body>
    <!-- Header Section -->
    <header>
        <nav>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Service</a>
            <a href="rules.html">Community Rules</a>
            <button id="theme-toggle">Dark Mode</button>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>We Are Degenerates</h1>
            <p class="subtitle">Your Ultimate Discord BDSM Community</p>
            <p class="description">Explore NSFW stickers, emotes, and connect with a wholesome yet kinky community of like-minded individuals.</p>
            <a href="https://discord.com/invite/wadnsfw" target="_blank" class="cta-button">Join Us on Discord</a>
            <p class="member-count">Total Members: <span id="total-members">Loading...</span></p>
            <p class="member-count">Online Members: <span id="online-members">Loading...</span></p>
        </div>
    </section>

    <!-- About Us Section -->
    <section class="about-us">
        <h2>About Us</h2>
        <p><strong>We Are Degenerates</strong> was created on <strong>March 26, 2024</strong>, as a safe and inclusive space for individuals to explore their kinks, fetishes, and BDSM interests. Since then, our community has grown exponentially, reaching over <strong>29,000 members</strong> as of <strong>February 6, 2024</strong>.</p>
        <p>Our mission is to provide a welcoming environment where members can express themselves freely, share their experiences, and connect with others who share similar interests. Whether you're new to the lifestyle or a seasoned enthusiast, you'll find a place here.</p>
    </section>

    <!-- JavaScript for Dark Mode and Member Count -->
    <script>
        // Dark Mode Toggle
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            themeToggle.textContent = body.classList.contains('dark-mode') ? 'Light Mode' : 'Dark Mode';
        });

        // Discord Member Count from Netlify Function
        const totalMembersElement = document.getElementById('total-members');
        const onlineMembersElement = document.getElementById('online-members');

        async function fetchMemberCounts() {
            try {
                const response = await fetch('/.netlify/functions/getOnlineMembers');
                const data = await response.json();
                totalMembersElement.textContent = data.totalMembers.toLocaleString();
                onlineMembersElement.textContent = data.onlineMembers.toLocaleString();
            } catch (error) {
                console.error('Error fetching member counts:', error);
                totalMembersElement.textContent = 'Unavailable';
                onlineMembersElement.textContent = 'Unavailable';
            }
        }

        fetchMemberCounts();
        setInterval(fetchMemberCounts, 60000); // Update every 60 seconds
    </script>
</body>
</html>
